"use strict";(()=>{var e={};e.id=995,e.ids=[995],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9491:e=>{e.exports=require("assert")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},2181:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},3477:e=>{e.exports=require("querystring")},7310:e=>{e.exports=require("url")},3837:e=>{e.exports=require("util")},9796:e=>{e.exports=require("zlib")},3584:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>h,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>x});var n={};r.r(n),r.d(n,{GET:()=>GET,POST:()=>POST});var o=r(884),s=r(6132),a=r(4020),i=r(1517);let p=[];async function POST(e){let t=await (0,a.getServerSession)(i.authOptions);if(!t)return new Response("Unauthorized",{status:401});try{let{name:r}=await e.json(),n={id:Date.now().toString(),name:r,slug:r.toLowerCase().replace(/[^a-z0-9-]/g,"-"),owner_id:t.user?.id||"demo-user",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),plan:"starter",members:1};return p.push(n),console.log("Demo organization created:",n.name),new Response(JSON.stringify(n),{status:201,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error creating organization:",e),new Response(JSON.stringify({error:"Failed to create organization"}),{status:500,headers:{"Content-Type":"application/json"}})}}async function GET(e){let t=await (0,a.getServerSession)(i.authOptions);if(!t)return new Response("Unauthorized",{status:401});try{let e=p.filter(e=>e.owner_id===t.user?.id||"demo-user"===e.owner_id);return new Response(JSON.stringify({organizations:e}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error fetching organizations:",e),new Response(JSON.stringify({error:"Failed to fetch organizations"}),{status:500,headers:{"Content-Type":"application/json"}})}}let u=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/organizations/route",pathname:"/api/organizations",filename:"route",bundlePath:"app/api/organizations/route"},resolvedPagePath:"/workspaces/Birthday/app/api/organizations/route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:l,headerHooks:g,staticGenerationBailout:x}=u,h="/api/organizations/route"},884:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[657,463,517],()=>__webpack_exec__(3584));module.exports=r})();