"use strict";(()=>{var e={};e.id=995,e.ids=[995],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},86624:e=>{e.exports=require("querystring")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},81070:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>y,patchFetch:()=>m,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>x});var n={};r.r(n),r.d(n,{GET:()=>d,POST:()=>c});var s=r(49303),o=r(88716),a=r(60670),i=r(75571),p=r(38933);let u=[];async function c(e){let t=await (0,i.getServerSession)(p.authOptions);if(!t)return new Response("Unauthorized",{status:401});try{let{name:r}=await e.json(),n={id:Date.now().toString(),name:r,slug:r.toLowerCase().replace(/[^a-z0-9-]/g,"-"),owner_id:t.user?.id||"demo-user",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),plan:"starter",members:1};return u.push(n),console.log("Demo organization created:",n.name),new Response(JSON.stringify(n),{status:201,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error creating organization:",e),new Response(JSON.stringify({error:"Failed to create organization"}),{status:500,headers:{"Content-Type":"application/json"}})}}async function d(e){let t=await (0,i.getServerSession)(p.authOptions);if(!t)return new Response("Unauthorized",{status:401});try{let e=u.filter(e=>e.owner_id===t.user?.id||"demo-user"===e.owner_id);return new Response(JSON.stringify({organizations:e}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error fetching organizations:",e),new Response(JSON.stringify({error:"Failed to fetch organizations"}),{status:500,headers:{"Content-Type":"application/json"}})}}let l=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/organizations/route",pathname:"/api/organizations",filename:"route",bundlePath:"app/api/organizations/route"},resolvedPagePath:"/workspaces/Birthday/app/api/organizations/route.js",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:g,staticGenerationAsyncStorage:x,serverHooks:h}=l,y="/api/organizations/route";function m(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:x})}},38933:(e,t,r)=>{r.r(t),r.d(t,{GET:()=>a,POST:()=>a,authOptions:()=>o});var n=r(75571),s=r.n(n);let o={providers:[(0,r(77234).Z)({clientId:process.env.GOOGLE_CLIENT_ID||"dummy",clientSecret:process.env.GOOGLE_CLIENT_SECRET||"dummy"})],session:{strategy:"jwt"},callbacks:{signIn:async({user:e,account:t,profile:r,email:n,credentials:s})=>!0,session:async({session:e,user:t,token:r})=>e},pages:{signIn:"/auth/signin"}},a=s()(o)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,203,923],()=>r(81070));module.exports=n})();