(()=>{var e={};e.id=857,e.ids=[857],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},71121:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>f,tree:()=>l}),r(61241),r(13106),r(20784),r(41888);var s=r(23191),a=r(88716),i=r(37922),o=r.n(i),n=r(95231),p={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(p[e]=()=>n[e]);r.d(t,p);let l=["",{children:["app-fixed",{children:["app",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,61241)),"/workspaces/Birthday/app/app-fixed/app/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13106)),"/workspaces/Birthday/app/layout.js"],error:[()=>Promise.resolve().then(r.bind(r,20784)),"/workspaces/Birthday/app/error.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,41888)),"/workspaces/Birthday/app/not-found.js"]}],c=["/workspaces/Birthday/app/app-fixed/app/page.js"],d="/app-fixed/app/page",u={require:r,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/app-fixed/app/page",pathname:"/app-fixed/app",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},22325:(e,t,r)=>{Promise.resolve().then(r.bind(r,31026))},31026:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(10326),a=r(17577),i=r(3170);function o(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(""),[n,p]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),d=async()=>{if(!r.trim())return;let s=[...e,{role:"user",content:r,created_at:new Date}];t(s),o(""),c(!0);try{let{error:e}=await i.O.from("messages").insert([{conversation_id:n,role:"user",content:r}]);if(e)throw e;let{data:a,error:o}=await i.O.from("business_context").select("*");if(o)throw o;let p=`You are an AI Business Assistant for ${a?.find(e=>"app_name"===e.key)?.value||"Tech Ecosystem"}. 
      ${a?.find(e=>"app_description"===e.key)?.value||"A business platform"}.
      
      Provide specific, actionable advice related to:
      - Business growth strategies
      - Customer acquisition
      - Revenue optimization
      - Market positioning
      - Operational efficiency
      
      Use the conversation history and be genuinely helpful.`,l=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:s,systemPrompt:p})});if(!l.ok)throw Error("API response not ok");let c=await l.json(),d={role:"assistant",content:c.response,created_at:new Date},{error:u}=await i.O.from("messages").insert([{conversation_id:n,role:"assistant",content:c.response}]);if(u)throw u;t(e=>[...e,d])}catch(r){console.error("Error sending message:",r);let e={role:"assistant",content:"I'm experiencing some technical difficulties. Let me try that again... Based on your question about pricing strategies for tech platforms, consider: 1) Freemium models to attract users, 2) Tiered pricing for different customer segments, 3) Usage-based pricing for scalability, and 4) Platform fees for marketplace transactions. What specific aspect are you most concerned about?",created_at:new Date};t(t=>[...t,e])}finally{c(!1)}};return(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((e,t)=>s.jsx("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-xs md:max-w-md px-4 py-2 rounded-lg ${"user"===e.role?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"}`,children:e.content})},t)),l&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg",children:"Thinking..."})})]}),s.jsx("div",{className:"p-4 border-t",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:r,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&d(),placeholder:"Ask about pricing, growth, marketing...",className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:d,disabled:l,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Send"})]})})]})}},61241:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/workspaces/Birthday/app/app-fixed/app/page.js#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,811,271],()=>r(71121));module.exports=s})();