(()=>{var e={};e.id=259,e.ids=[259],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},2271:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(7096),t=r(6132),i=r(7284),n=r.n(i),o=r(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(a,l);let d=["",{children:["dashboard",{children:["organizations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7625)),"/workspaces/Birthday/app/dashboard/organizations/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2002)),"/workspaces/Birthday/app/dashboard/layout.js"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,551)),"/workspaces/Birthday/app/layout.js"],error:[()=>Promise.resolve().then(r.bind(r,979)),"/workspaces/Birthday/app/error.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,1499)),"/workspaces/Birthday/app/not-found.js"]}],c=["/workspaces/Birthday/app/dashboard/organizations/page.js"],m="/dashboard/organizations/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/organizations/page",pathname:"/dashboard/organizations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4668:(e,a,r)=>{Promise.resolve().then(r.bind(r,7951))},7951:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>Organizations});var s=r(784),t=r(9885),i=r(644),n=r(7694),o=r(2875),l=r(2385);function Organizations(){let[e,a]=(0,t.useState)([]),[r,d]=(0,t.useState)(!1),[c,m]=(0,t.useState)(""),[x,u]=(0,t.useState)(!1),[g,h]=(0,t.useState)(!0),[p,b]=(0,t.useState)(!0),loadOrganizations=async()=>{try{let e=await fetch("/api/organizations");if(e.ok){let r=await e.json();a(r.organizations||[])}}catch(e){console.error("Error loading organizations:",e),b(!0)}finally{h(!1)}};(0,t.useEffect)(()=>{loadOrganizations()},[]);let createOrganization=async r=>{if(r.preventDefault(),c.trim()){u(!0);try{let r=await fetch("/api/organizations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c})});if(r.ok){let s=await r.json();a([s,...e]),m(""),d(!1)}else throw Error("Failed to create organization")}catch(e){console.error("Error creating organization:",e),alert("Failed to create organization. Please try again.")}finally{u(!1)}}};return g?s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(i.Z,{className:"h-8 w-8 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your organizations..."})]})})}):(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Organizations"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your business organizations and teams"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{onClick:loadOrganizations,className:"flex items-center text-sm text-gray-600 hover:text-gray-900",children:[s.jsx(i.Z,{className:"h-4 w-4 mr-1"}),"Refresh"]}),s.jsx("div",{className:`flex items-center text-sm px-3 py-1 rounded-full ${p?"text-amber-700 bg-amber-50":"text-green-600 bg-green-50"}`,children:p?(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.Z,{className:"h-4 w-4 mr-1"}),"Demo Mode"]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.Z,{className:"h-4 w-4 mr-1"}),"Database Connected"]})})]})]})}),p&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(n.Z,{className:"h-5 w-5 text-amber-600 mr-3"}),(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-medium text-amber-800",children:"Demo Mode Active"}),s.jsx("p",{className:"text-amber-700 text-sm mt-1",children:"Organizations are stored temporarily. Set up Supabase for permanent storage."})]})]})}),s.jsx("div",{className:"mb-8",children:r?(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New Organization"}),(0,s.jsxs)("form",{onSubmit:createOrganization,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name"}),s.jsx("input",{type:"text",value:c,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Enter your organization name",autoFocus:!0,required:!0}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This will be your business name in the ecosystem"})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"submit",disabled:x||!c.trim(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:x?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"Create Organization"]})}),s.jsx("button",{type:"button",onClick:()=>d(!1),className:"border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})]}):s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to grow your business?"}),s.jsx("p",{className:"text-gray-600",children:"Create your first organization to start building your ecosystem."})]}),(0,s.jsxs)("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[s.jsx(l.Z,{className:"h-5 w-5 mr-2"}),"Create Organization"]})]})})})]})}},7625:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var s=r(5153);let t=(0,s.createProxy)(String.raw`/workspaces/Birthday/app/dashboard/organizations/page.js`),{__esModule:i,$$typeof:n}=t,o=t.default,l=o}};var a=require("../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),r=a.X(0,[657,602,614,204,360,386,790],()=>__webpack_exec__(2271));module.exports=r})();