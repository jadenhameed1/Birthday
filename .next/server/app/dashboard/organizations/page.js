(()=>{var e={};e.id=259,e.ids=[259],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},2271:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>g,tree:()=>d});var t=a(7096),r=a(6132),n=a(7284),i=a.n(n),o=a(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(s,l);let d=["",{children:["dashboard",{children:["organizations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7625)),"/workspaces/Birthday/app/dashboard/organizations/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2002)),"/workspaces/Birthday/app/dashboard/layout.js"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,551)),"/workspaces/Birthday/app/layout.js"],error:[()=>Promise.resolve().then(a.bind(a,979)),"/workspaces/Birthday/app/error.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,1499)),"/workspaces/Birthday/app/not-found.js"]}],c=["/workspaces/Birthday/app/dashboard/organizations/page.js"],x="/dashboard/organizations/page",m={require:a,loadChunk:()=>Promise.resolve()},g=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/organizations/page",pathname:"/dashboard/organizations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4668:(e,s,a)=>{Promise.resolve().then(a.bind(a,7951))},7951:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>Organizations});var t=a(784),r=a(9885),n=a(644),i=a(2875),o=a(2385),l=a(3482),d=a(5987),c=a(1672),x=a(7631);function Organizations(){let[e,s]=(0,r.useState)([]),[a,m]=(0,r.useState)(!1),[g,u]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!0),loadOrganizations=async()=>{try{let e=await fetch("/api/organizations");if(e.ok){let a=await e.json();s(a.organizations||[])}}catch(e){console.error("Error loading organizations:",e)}finally{y(!1)}};(0,r.useEffect)(()=>{loadOrganizations()},[]);let createOrganization=async a=>{if(a.preventDefault(),g.trim()){p(!0);try{let a=await fetch("/api/organizations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g})});if(a.ok){let t=await a.json();s([t,...e]),u(""),m(!1),alert(`Organization "${t.name}" created successfully!`)}else throw Error("Failed to create organization")}catch(e){console.error("Error creating organization:",e),alert("Failed to create organization. Please try again.")}finally{p(!1)}}};return b?t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(n.Z,{className:"h-8 w-8 text-blue-600 animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading your organizations..."})]})})}):(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[t.jsx("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Organizations"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your business organizations and teams"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:loadOrganizations,className:"flex items-center text-sm text-gray-600 hover:text-gray-900",children:[t.jsx(n.Z,{className:"h-4 w-4 mr-1"}),"Refresh"]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-green-600 bg-green-50 px-3 py-1 rounded-full",children:[t.jsx(i.Z,{className:"h-4 w-4 mr-1"}),"Database Connected"]})]})]})}),t.jsx("div",{className:"mb-8",children:a?(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New Organization"}),(0,t.jsxs)("form",{onSubmit:createOrganization,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name"}),t.jsx("input",{type:"text",value:g,onChange:e=>u(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Enter your organization name",autoFocus:!0,required:!0}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This will be your business name in the ecosystem"})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"submit",disabled:h||!g.trim(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:h?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Create Organization"]})}),t.jsx("button",{type:"button",onClick:()=>m(!1),className:"border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})]}):t.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to grow your business?"}),t.jsx("p",{className:"text-gray-600",children:"Create your first organization to start building your ecosystem."})]}),(0,t.jsxs)("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[t.jsx(o.Z,{className:"h-5 w-5 mr-2"}),"Create Organization"]})]})})}),e.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Your Organizations (",e.length,")"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow group",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:t.jsx(l.Z,{className:"h-5 w-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:e.name}),t.jsx("span",{className:"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full mt-1",children:e.plan||"starter"})]})]}),t.jsx(d.Z,{className:"h-4 w-4 text-gray-400 cursor-pointer hover:text-gray-600"})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(c.Z,{className:"h-4 w-4 mr-2"}),t.jsx("span",{children:"1 member"})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded text-sm hover:bg-gray-200 transition-colors",children:"Manage"}),(0,t.jsxs)("button",{className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded text-sm hover:bg-blue-700 transition-colors flex items-center justify-center",children:["View",t.jsx(x.Z,{className:"h-3 w-3 ml-1"})]})]})]},e.id))})]}),0===e.length&&!a&&(0,t.jsxs)("div",{className:"text-center py-16",children:[t.jsx("div",{className:"bg-blue-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(l.Z,{className:"h-10 w-10 text-blue-600"})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No organizations yet"}),t.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Organizations help you manage multiple businesses, teams, and services in one place. All data is now stored securely in the database."}),(0,t.jsxs)("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-8 py-4 rounded-lg hover:bg-blue-700 transition-colors text-lg font-semibold inline-flex items-center",children:[t.jsx(o.Z,{className:"h-5 w-5 mr-2"}),"Create Your First Organization"]})]})]})}},7625:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var t=a(5153);let r=(0,t.createProxy)(String.raw`/workspaces/Birthday/app/dashboard/organizations/page.js`),{__esModule:n,$$typeof:i}=r,o=r.default,l=o}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[657,602,614,653,107,386,790],()=>__webpack_exec__(2271));module.exports=a})();