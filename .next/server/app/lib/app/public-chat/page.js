(()=>{var e={};e.id=104,e.ids=[104],e.modules={92885:e=>{"use strict";e.exports=require("@supabase/supabase-js")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61988:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(5962),a(13106),a(20784),a(41888);var s=a(23191),r=a(88716),i=a(37922),n=a.n(i),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["lib",{children:["app",{children:["public-chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5962)),"/workspaces/Birthday/app/lib/app/public-chat/page.js"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,13106)),"/workspaces/Birthday/app/layout.js"],error:[()=>Promise.resolve().then(a.bind(a,20784)),"/workspaces/Birthday/app/error.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,41888)),"/workspaces/Birthday/app/not-found.js"]}],c=["/workspaces/Birthday/app/lib/app/public-chat/page.js"],p="/lib/app/public-chat/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/lib/app/public-chat/page",pathname:"/lib/app/public-chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},67347:(e,t,a)=>{Promise.resolve().then(a.bind(a,35621))},35621:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(10326),r=a(17577);function i(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(""),[n,l]=(0,r.useState)(!1),o=async()=>{if(!a.trim()||n)return;let e=a.trim();i(""),l(!0);let s={id:Date.now(),role:"user",content:e,timestamp:new Date};t(e=>[...e,s]);try{let a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,conversationId:"public-test-"+Date.now()})});if(!a.ok)throw Error("API response not ok");let s=await a.json(),r={id:Date.now()+1,role:"assistant",content:s.response,timestamp:new Date};t(e=>[...e,r])}catch(a){console.error("Error sending message:",a);let e={id:Date.now()+1,role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};t(t=>[...t,e])}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Public Chat Test"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No authentication required - testing chat functionality"}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg h-96 mb-4 p-4 overflow-y-auto",children:[0===e.length?(0,s.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Public Chat Test"}),s.jsx("p",{className:"mt-2",children:"Send a message to test the AI and database integration!"})]}):e.map(e=>s.jsx("div",{className:`flex mb-4 ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,s.jsxs)("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${"user"===e.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"}`,children:[s.jsx("div",{className:"whitespace-pre-wrap",children:e.content}),s.jsx("div",{className:`text-xs mt-1 ${"user"===e.role?"text-blue-200":"text-gray-500"}`,children:e.timestamp.toLocaleTimeString()})]})},e.id)),n&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 text-gray-800 rounded-lg px-4 py-2 max-w-[80%]",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:a,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&o(),placeholder:"Type a test message...",disabled:n,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:o,disabled:n||!a.trim(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:"Send"})]})]})})}},5962:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`/workspaces/Birthday/app/lib/app/public-chat/page.js#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[948,483,271],()=>a(61988));module.exports=s})();