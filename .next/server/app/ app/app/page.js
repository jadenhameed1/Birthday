(()=>{var e={};e.id=57,e.ids=[57],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},63832:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>m,tree:()=>p}),a(24641),a(13106),a(20784),a(41888);var r=a(23191),s=a(88716),i=a(37922),n=a.n(i),o=a(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let p=["",{children:[" app",{children:["app",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,24641)),"/workspaces/Birthday/app/ app/app/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,13106)),"/workspaces/Birthday/app/layout.js"],error:[()=>Promise.resolve().then(a.bind(a,20784)),"/workspaces/Birthday/app/error.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,41888)),"/workspaces/Birthday/app/not-found.js"]}],c=["/workspaces/Birthday/app/ app/app/page.js"],d="/ app/app/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/ app/app/page",pathname:"/ app/app",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},335:(e,t,a)=>{Promise.resolve().then(a.bind(a,54194))},54194:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(10326),s=a(17577),i=a(3170);function n(){let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(""),[o,l]=(0,s.useState)(null),[p,c]=(0,s.useState)(!1),d=async()=>{if(!a.trim())return;let r=[...e,{role:"user",content:a,created_at:new Date}];t(r),n(""),c(!0);try{let{error:e}=await i.O.from("messages").insert([{conversation_id:o,role:"user",content:a}]);if(e)throw e;let{data:s,error:n}=await i.O.from("business_context").select("*");if(n)throw n;let l=`You are an AI Business Assistant for ${s?.find(e=>"app_name"===e.key)?.value||"Tech Ecosystem"}. 
      ${s?.find(e=>"app_description"===e.key)?.value||"A business platform"}.
      
      Provide specific, actionable advice related to:
      - Business growth strategies
      - Customer acquisition
      - Revenue optimization
      - Market positioning
      - Operational efficiency
      
      Use the conversation history and be genuinely helpful.`,p=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:r,systemPrompt:l})});if(!p.ok)throw Error("API response not ok");let c=await p.json(),d={role:"assistant",content:c.response,created_at:new Date},{error:u}=await i.O.from("messages").insert([{conversation_id:o,role:"assistant",content:c.response}]);if(u)throw u;t(e=>[...e,d])}catch(a){console.error("Error sending message:",a);let e={role:"assistant",content:"I'm experiencing some technical difficulties. Let me try that again... Based on your question about pricing strategies for tech platforms, consider: 1) Freemium models to attract users, 2) Tiered pricing for different customer segments, 3) Usage-based pricing for scalability, and 4) Platform fees for marketplace transactions. What specific aspect are you most concerned about?",created_at:new Date};t(t=>[...t,e])}finally{c(!1)}};return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((e,t)=>r.jsx("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-xs md:max-w-md px-4 py-2 rounded-lg ${"user"===e.role?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"}`,children:e.content})},t)),p&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg",children:"Thinking..."})})]}),r.jsx("div",{className:"p-4 border-t",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:a,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&d(),placeholder:"Ask about pricing, growth, marketing...",className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{onClick:d,disabled:p,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Send"})]})})]})}},24641:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/workspaces/Birthday/app/ app/app/page.js#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,483,271],()=>a(63832));module.exports=r})();