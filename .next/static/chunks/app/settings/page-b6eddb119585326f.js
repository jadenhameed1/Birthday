(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{65688:function(i,o,n){Promise.resolve().then(n.bind(n,891))},891:function(i,o,n){"use strict";n.r(o),n.d(o,{default:function(){return c}});var e=n(2265);class t{async initialize(){await this.checkPermission()}async checkPermission(){if(!("Notification"in window)){console.log("This browser does not support notifications");return}this.permission=Notification.permission,"default"===this.permission&&(this.permission=await Notification.requestPermission())}async showNotification(i){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("granted"!==this.permission&&await this.checkPermission(),"granted"===this.permission){let n=new Notification(i,{icon:"/icon.png",badge:"/badge.png",...o});return n.onclick=()=>{window.focus(),n.close(),o.url&&(window.location.href=o.url)},setTimeout(()=>{n.close()},5e3),n}}async notifyNewBooking(i){return this.showNotification("\uD83C\uDF89 New Booking Received!",{body:"".concat(i.customer_name," booked your services for $").concat(i.budget),url:"/bookings",tag:"booking"})}async notifyNewMessage(i){return this.showNotification("\uD83D\uDCAC New Message",{body:"".concat(i.user_name,": ").concat(i.message),url:"/chat",tag:"message"})}async notifyPayment(i){return this.showNotification("\uD83D\uDCB0 Payment Received",{body:"Payment of $".concat(i," has been processed successfully"),url:"/bookings",tag:"payment"})}async notifyInfo(i,o){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";return this.showNotification(i,{body:o,url:n})}constructor(){this.permission=null}}let s=new t;function c(){(0,e.useEffect)(()=>{s.initialize()},[])}}},function(i){i.O(0,[971,117,744],function(){return i(i.s=65688)}),_N_E=i.O()}]);