(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{65688:function(i,n,o){Promise.resolve().then(o.bind(o,71433))},71433:function(i,n,o){"use strict";o.r(n),o.d(n,{default:function(){return s}});var e=o(2265),t=o(84543);function s(){(0,e.useEffect)(()=>{t.H.initialize()},[])}},84543:function(i,n,o){"use strict";o.d(n,{H:function(){return t}});class e{async initialize(){await this.checkPermission()}async checkPermission(){if(!("Notification"in window)){console.log("This browser does not support notifications");return}this.permission=Notification.permission,"default"===this.permission&&(this.permission=await Notification.requestPermission())}async showNotification(i){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("granted"!==this.permission&&await this.checkPermission(),"granted"===this.permission){let o=new Notification(i,{icon:"/icon.png",badge:"/badge.png",...n});return o.onclick=()=>{window.focus(),o.close(),n.url&&(window.location.href=n.url)},setTimeout(()=>{o.close()},5e3),o}}async notifyNewBooking(i){return this.showNotification("\uD83C\uDF89 New Booking Received!",{body:"".concat(i.customer_name," booked your services for $").concat(i.budget),url:"/bookings",tag:"booking"})}async notifyNewMessage(i){return this.showNotification("\uD83D\uDCAC New Message",{body:"".concat(i.user_name,": ").concat(i.message),url:"/chat",tag:"message"})}async notifyPayment(i){return this.showNotification("\uD83D\uDCB0 Payment Received",{body:"Payment of $".concat(i," has been processed successfully"),url:"/bookings",tag:"payment"})}async notifyInfo(i,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";return this.showNotification(i,{body:n,url:o})}constructor(){this.permission=null}}let t=new e}},function(i){i.O(0,[971,117,744],function(){return i(i.s=65688)}),_N_E=i.O()}]);