(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{2898:function(e,t,a){"use strict";a.d(t,{Z:function(){return createLucideIcon}});var r=a(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,t)=>{let a=(0,r.forwardRef)(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},m)=>(0,r.createElement)("svg",{ref:m,...s,width:n,height:n,stroke:a,strokeWidth:o?24*Number(i)/Number(n):i,className:["lucide",`lucide-${toKebabCase(e)}`,l].join(" "),...d},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return a.displayName=`${e}`,a}},5738:function(e,t,a){Promise.resolve().then(a.bind(a,6864))},6864:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Organizations}});var r=a(7437),s=a(2265),n=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),o=(0,n.Z)("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]),l=(0,n.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),c=(0,n.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function Organizations(){let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[d,m]=(0,s.useState)(""),[u,x]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!0),[b,y]=(0,s.useState)(!0),loadOrganizations=async()=>{try{let e=await fetch("/api/organizations");if(e.ok){let a=await e.json();t(a.organizations||[])}}catch(e){console.error("Error loading organizations:",e),y(!0)}finally{g(!1)}};(0,s.useEffect)(()=>{loadOrganizations()},[]);let createOrganization=async a=>{if(a.preventDefault(),d.trim()){x(!0);try{let a=await fetch("/api/organizations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d})});if(a.ok){let r=await a.json();t([r,...e]),m(""),n(!1)}else throw Error("Failed to create organization")}catch(e){console.error("Error creating organization:",e),alert("Failed to create organization. Please try again.")}finally{x(!1)}}};return h?(0,r.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(i,{className:"h-8 w-8 text-blue-600 animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading your organizations..."})]})})}):(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Organizations"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage your business organizations and teams"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("button",{onClick:loadOrganizations,className:"flex items-center text-sm text-gray-600 hover:text-gray-900",children:[(0,r.jsx)(i,{className:"h-4 w-4 mr-1"}),"Refresh"]}),(0,r.jsx)("div",{className:"flex items-center text-sm px-3 py-1 rounded-full ".concat(b?"text-amber-700 bg-amber-50":"text-green-600 bg-green-50"),children:b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{className:"h-4 w-4 mr-1"}),"Demo Mode"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l,{className:"h-4 w-4 mr-1"}),"Database Connected"]})})]})]})}),b&&(0,r.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o,{className:"h-5 w-5 text-amber-600 mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-amber-800",children:"Demo Mode Active"}),(0,r.jsx)("p",{className:"text-amber-700 text-sm mt-1",children:"Organizations are stored temporarily. Set up Supabase for permanent storage."})]})]})}),(0,r.jsx)("div",{className:"mb-8",children:a?(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New Organization"}),(0,r.jsxs)("form",{onSubmit:createOrganization,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name"}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Enter your organization name",autoFocus:!0,required:!0}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"This will be your business name in the ecosystem"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{type:"submit",disabled:u||!d.trim(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{className:"h-4 w-4 mr-2"}),"Create Organization"]})}),(0,r.jsx)("button",{type:"button",onClick:()=>n(!1),className:"border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})]}):(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to grow your business?"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Create your first organization to start building your ecosystem."})]}),(0,r.jsxs)("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[(0,r.jsx)(c,{className:"h-5 w-5 mr-2"}),"Create Organization"]})]})})})]})}},622:function(e,t,a){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=a(2265),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,a){var r,n={},c=null,d=null;for(r in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:n,_owner:o.current}}t.Fragment=n,t.jsx=q,t.jsxs=q},7437:function(e,t,a){"use strict";e.exports=a(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=5738)}),_N_E=e.O()}]);