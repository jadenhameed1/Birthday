(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{37353:function(e,t,a){Promise.resolve().then(a.bind(a,36862))},36862:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(57437),r=a(2265),n=a(39763);let i=(0,n.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),l=(0,n.Z)("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]),o=(0,n.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),c=(0,n.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function d(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!1),[d,m]=(0,r.useState)(""),[x,h]=(0,r.useState)(!1),[u,g]=(0,r.useState)(!0),[b,y]=(0,r.useState)(!0),f=async()=>{try{let e=await fetch("/api/organizations");if(e.ok){let a=await e.json();t(a.organizations||[])}}catch(e){console.error("Error loading organizations:",e),y(!0)}finally{g(!1)}};(0,r.useEffect)(()=>{f()},[]);let p=async a=>{if(a.preventDefault(),d.trim()){h(!0);try{let a=await fetch("/api/organizations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d})});if(a.ok){let s=await a.json();t([s,...e]),m(""),n(!1)}else throw Error("Failed to create organization")}catch(e){console.error("Error creating organization:",e),alert("Failed to create organization. Please try again.")}finally{h(!1)}}};return u?(0,s.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(i,{className:"h-8 w-8 text-blue-600 animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading your organizations..."})]})})}):(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Organizations"}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage your business organizations and teams"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{onClick:f,className:"flex items-center text-sm text-gray-600 hover:text-gray-900",children:[(0,s.jsx)(i,{className:"h-4 w-4 mr-1"}),"Refresh"]}),(0,s.jsx)("div",{className:"flex items-center text-sm px-3 py-1 rounded-full ".concat(b?"text-amber-700 bg-amber-50":"text-green-600 bg-green-50"),children:b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l,{className:"h-4 w-4 mr-1"}),"Demo Mode"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{className:"h-4 w-4 mr-1"}),"Database Connected"]})})]})]})}),b&&(0,s.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(l,{className:"h-5 w-5 text-amber-600 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-amber-800",children:"Demo Mode Active"}),(0,s.jsx)("p",{className:"text-amber-700 text-sm mt-1",children:"Organizations are stored temporarily. Set up Supabase for permanent storage."})]})]})}),(0,s.jsx)("div",{className:"mb-8",children:a?(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New Organization"}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name"}),(0,s.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",placeholder:"Enter your organization name",autoFocus:!0,required:!0}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"This will be your business name in the ecosystem"})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{type:"submit",disabled:x||!d.trim(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{className:"h-4 w-4 mr-2"}),"Create Organization"]})}),(0,s.jsx)("button",{type:"button",onClick:()=>n(!1),className:"border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})]}):(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to grow your business?"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Create your first organization to start building your ecosystem."})]}),(0,s.jsxs)("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[(0,s.jsx)(c,{className:"h-5 w-5 mr-2"}),"Create Organization"]})]})})})]})}},39763:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let a=(0,s.forwardRef)((a,i)=>{let{color:l="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:m="",children:x,...h}=a;return(0,s.createElement)("svg",{ref:i,...r,width:o,height:o,stroke:l,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(n(e)),m].join(" "),...h},[...t.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(x)?x:[x]])});return a.displayName="".concat(e),a}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=37353)}),_N_E=e.O()}]);