(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{97325:function(e,s,t){Promise.resolve().then(t.bind(t,9449))},9449:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(57437),r=t(280),n=t(50208),i=t(2265),l=t(47625),c=t(21156),d=t(56940),o=t(97059),h=t(62994),x=t(78155),m=t(53250),u=t(58925),g=t(77031),v=t(74533);let b=[{month:"Jan",revenue:22e3,users:1200,conversions:38},{month:"Feb",revenue:25e3,users:1450,conversions:42},{month:"Mar",revenue:28450,users:1542,conversions:49},{month:"Apr",revenue:31200,users:1680,conversions:53},{month:"May",revenue:28900,users:1620,conversions:47},{month:"Jun",revenue:33100,users:1780,conversions:58}];function j(){return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Trend"}),(0,a.jsx)(l.h,{width:"100%",height:300,children:(0,a.jsxs)(c.w,{data:b,children:[(0,a.jsx)(d.q,{strokeDasharray:"3 3"}),(0,a.jsx)(o.K,{dataKey:"month"}),(0,a.jsx)(h.B,{}),(0,a.jsx)(x.u,{}),(0,a.jsx)(m.D,{}),(0,a.jsx)(u.x,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2})]})})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"User Growth & Conversions"}),(0,a.jsx)(l.h,{width:"100%",height:300,children:(0,a.jsxs)(g.v,{data:b,children:[(0,a.jsx)(d.q,{strokeDasharray:"3 3"}),(0,a.jsx)(o.K,{dataKey:"month"}),(0,a.jsx)(h.B,{}),(0,a.jsx)(x.u,{}),(0,a.jsx)(m.D,{}),(0,a.jsx)(v.$,{dataKey:"users",fill:"#10b981"}),(0,a.jsx)(v.$,{dataKey:"conversions",fill:"#8b5cf6"})]})})]})]})}function p(){let[e,s]=(0,i.useState)({activeSessions:0,revenueToday:0,conversionsToday:0});return(0,i.useEffect)(()=>{let e=setInterval(()=>{s({activeSessions:Math.floor(50*Math.random())+20,revenueToday:Math.floor(5e3*Math.random())+1e3,conversionsToday:Math.floor(15*Math.random())+5})},3e3);return()=>clearInterval(e)},[]),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-6 text-white",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\uD83D\uDCCA Live Metrics"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.activeSessions}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:"Active Sessions"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",e.revenueToday.toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:"Revenue Today"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.conversionsToday}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:"Conversions Today"})]})]})]})}function f(){let[e,s]=(0,i.useState)([]),[t,n]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0);(0,i.useEffect)(()=>{d()},[]);let d=async()=>{try{let{data:e}=await r.O.from("business_metrics").select("*").order("metric_name"),{data:t}=await r.O.from("ai_insights").select("*").order("created_at",{ascending:!1}).limit(5);s(e||[]),n(t||[])}catch(e){console.error("Error loading dashboard:",e)}finally{c(!1)}},o=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";return"currency"===s?"$".concat(e.toLocaleString()):"percentage"===s?"".concat(e,"%"):e.toLocaleString()};return l?(0,a.jsx)("div",{className:"p-8 text-center",children:"Loading dashboard..."}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)(p,{}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 border",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 uppercase",children:e.metric_name.replace("_"," ")}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:o(e.metric_value,e.metric_name.includes("revenue")||e.metric_name.includes("value")||e.metric_name.includes("cost")?"currency":e.metric_name.includes("rate")?"percentage":"number")})]},e.id))}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\uD83D\uDCC8 Performance Trends"}),(0,a.jsx)(j,{})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\uD83E\uDD16 AI Business Insights"}),(0,a.jsx)("div",{className:"space-y-4",children:t.length>0?t.map(e=>(0,a.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[(0,a.jsx)("p",{className:"text-gray-700",children:e.insight_text}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500 capitalize",children:e.insight_type}),e.confidence_score&&(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Confidence: ",(100*e.confidence_score).toFixed(0),"%"]})]})]},e.id)):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No insights yet. Chat with your AI assistant to generate insights!"})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("button",{onClick:()=>window.location.href="/chat",className:"bg-blue-500 text-white py-3 px-4 rounded-lg hover:bg-blue-600 transition",children:"\uD83D\uDCAC Chat with AI Assistant"}),(0,a.jsx)("button",{className:"bg-green-500 text-white py-3 px-4 rounded-lg hover:bg-green-600 transition",children:"\uD83D\uDCC8 Generate Report"}),(0,a.jsx)("button",{onClick:d,className:"bg-purple-500 text-white py-3 px-4 rounded-lg hover:bg-purple-600 transition",children:"\uD83D\uDD04 Refresh Data"})]})]})}function y(){return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(n.default,{}),(0,a.jsx)("main",{children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Business Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Monitor your key metrics and AI-generated insights"})]}),(0,a.jsx)(f,{})]})})})]})}},50208:function(e,s,t){"use strict";t.d(s,{default:function(){return i}});var a=t(57437),r=t(27648),n=t(99376);function i(){let e=(0,n.usePathname)();return(0,a.jsx)("nav",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex space-x-8",children:[{href:"/dashboard",label:"\uD83D\uDCCA Dashboard"},{href:"/team",label:"\uD83D\uDC65 Team"},{href:"/marketplace",label:"\uD83D\uDECD️ Marketplace"},{href:"/bookings",label:"\uD83D\uDCCB Bookings"},{href:"/providers",label:"\uD83D\uDC68‍\uD83D\uDCBC Providers"},{href:"/ai-insights",label:"\uD83E\uDDE0 AI Insights"},{href:"/chat",label:"\uD83E\uDD16 AI Assistant"},{href:"/settings",label:"⚙️ Settings"}].map(s=>(0,a.jsx)(r.default,{href:s.href,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(e===s.href?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:s.label},s.href))}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-sm font-medium",children:"User"})})]})})})}},280:function(e,s,t){"use strict";t.d(s,{O:function(){return a}});let a=(0,t(39683).eI)("https://pgmivzxdvezaznmukjms.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBnbWl2enhkdmV6YXpubXVram1zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MzYyNTcsImV4cCI6MjA3NTIxMjI1N30.eh1Pix9M13M9gtrTzn8pF7bd3WAKVA6ZUu0SXLJ44C4")}},function(e){e.O(0,[648,683,925,971,117,744],function(){return e(e.s=97325)}),_N_E=e.O()}]);