(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{1795:function(e,s,t){Promise.resolve().then(t.bind(t,50208)),Promise.resolve().then(t.bind(t,56224)),Promise.resolve().then(t.bind(t,36337))},50208:function(e,s,t){"use strict";t.d(s,{default:function(){return n}});var a=t(57437),l=t(27648),r=t(99376);function n(){let e=(0,r.usePathname)();return(0,a.jsx)("nav",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex space-x-8",children:[{href:"/dashboard",label:"\uD83D\uDCCA Dashboard"},{href:"/team",label:"\uD83D\uDC65 Team"},{href:"/marketplace",label:"\uD83D\uDECD️ Marketplace"},{href:"/bookings",label:"\uD83D\uDCCB Bookings"},{href:"/providers",label:"\uD83D\uDC68‍\uD83D\uDCBC Providers"},{href:"/ai-insights",label:"\uD83E\uDDE0 AI Insights"},{href:"/chat",label:"\uD83E\uDD16 AI Assistant"},{href:"/settings",label:"⚙️ Settings"}].map(s=>(0,a.jsx)(l.default,{href:s.href,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(e===s.href?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:s.label},s.href))}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-sm font-medium",children:"User"})})]})})})}},56224:function(e,s,t){"use strict";t.d(s,{default:function(){return n}});var a=t(57437),l=t(2265),r=t(280);function n(){let[e,s]=(0,l.useState)([]),[t,n]=(0,l.useState)(null),[i,c]=(0,l.useState)([]),[d,o]=(0,l.useState)(""),[u,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)("");(0,l.useEffect)(()=>{b()},[]),(0,l.useEffect)(()=>{t&&f(t.id)},[t]);let b=async()=>{let{data:e,error:t}=await r.O.from("team_conversations").select("*").order("created_at",{ascending:!1});t||s(e||[])},f=async e=>{let{data:s,error:t}=await r.O.from("messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});t||c(s||[])},g=async()=>{if(!x)return;let{data:e,error:t}=await r.O.from("team_conversations").insert([{title:x}]).select();t||(s(s=>[e[0],...s]),h(""),m(!1))},p=async()=>{if(!d.trim()||!t)return;let e={conversation_id:t.id,role:"user",content:d},{data:s,error:a}=await r.O.from("messages").insert([e]).select();a||(c(e=>[...e,s[0]]),o(""))};return(0,a.jsxs)("div",{className:"flex h-96 bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"w-1/3 border-r",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("button",{onClick:()=>m(!0),className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"+ New Team Chat"})}),(0,a.jsx)("div",{className:"overflow-y-auto h-full",children:e.map(e=>(0,a.jsxs)("div",{onClick:()=>n(e),className:"p-4 border-b cursor-pointer ".concat((null==t?void 0:t.id)===e.id?"bg-blue-50":"hover:bg-gray-50"),children:[(0,a.jsx)("h3",{className:"font-semibold",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]},e.id))})]}),(0,a.jsx)("div",{className:"flex-1 flex flex-col",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h3",{className:"font-semibold",children:t.title})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:i.map(e=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsx)("div",{className:"max-w-xs p-3 rounded-lg ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),children:e.content})},e.id))}),(0,a.jsx)("div",{className:"p-4 border-t",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",value:d,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&p(),placeholder:"Type a message...",className:"flex-1 p-2 border rounded"}),(0,a.jsx)("button",{onClick:p,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Send"})]})})]}):(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a conversation or create a new one"})}),u&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create Team Chat"}),(0,a.jsx)("input",{type:"text",placeholder:"Chat Title",value:x,onChange:e=>h(e.target.value),className:"w-full p-2 border rounded mb-4"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:g,className:"flex-1 bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Create"}),(0,a.jsx)("button",{onClick:()=>m(!1),className:"flex-1 bg-gray-500 text-white py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]})})]})}},36337:function(e,s,t){"use strict";t.d(s,{default:function(){return n}});var a=t(57437),l=t(2265),r=t(280);function n(){let[e,s]=(0,l.useState)([]),[t,n]=(0,l.useState)(!1),[i,c]=(0,l.useState)({name:"",email:"",role:"member"});(0,l.useEffect)(()=>{d()},[]);let d=async()=>{let{data:e,error:t}=await r.O.from("team_members").select("*").order("created_at",{ascending:!1});t||s(e||[])},o=async()=>{if(!i.name||!i.email)return;let{data:e,error:t}=await r.O.from("team_members").insert([{...i,status:"invited"}]).select();t||(s(s=>[e[0],...s]),c({name:"",email:"",role:"member"}),n(!1))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"\uD83D\uDC65 Team Management"}),(0,a.jsx)("button",{onClick:()=>n(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"+ Invite Team Member"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-4 border",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:e.name.split(" ").map(e=>e[0]).join("")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"manager"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.role}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]})]})]})},e.id))}),t&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Invite Team Member"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Full Name",value:i.name,onChange:e=>c({...i,name:e.target.value}),className:"w-full p-2 border rounded"}),(0,a.jsx)("input",{type:"email",placeholder:"Email Address",value:i.email,onChange:e=>c({...i,email:e.target.value}),className:"w-full p-2 border rounded"}),(0,a.jsxs)("select",{value:i.role,onChange:e=>c({...i,role:e.target.value}),className:"w-full p-2 border rounded",children:[(0,a.jsx)("option",{value:"member",children:"Member"}),(0,a.jsx)("option",{value:"manager",children:"Manager"}),(0,a.jsx)("option",{value:"admin",children:"Admin"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:o,className:"flex-1 bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Send Invite"}),(0,a.jsx)("button",{onClick:()=>n(!1),className:"flex-1 bg-gray-500 text-white py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]})]})})]})}},280:function(e,s,t){"use strict";t.d(s,{O:function(){return a}});let a={from:()=>({select:()=>({order:()=>({limit:()=>Promise.resolve({data:[],error:null})}),eq:()=>Promise.resolve({data:[],error:null}),insert:()=>Promise.resolve({data:null,error:null})})})}},99376:function(e,s,t){"use strict";var a=t(35475);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}})}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=1795)}),_N_E=e.O()}]);