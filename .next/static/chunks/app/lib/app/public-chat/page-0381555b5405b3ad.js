(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[104],{89271:function(e,t,a){Promise.resolve().then(a.bind(a,50622))},50622:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r}});var s=a(57437),n=a(2265);function r(){let[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)(""),[l,i]=(0,n.useState)(!1),o=async()=>{if(!a.trim()||l)return;let e=a.trim();r(""),i(!0);let s={id:Date.now(),role:"user",content:e,timestamp:new Date};t(e=>[...e,s]);try{let a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,conversationId:"public-test-"+Date.now()})});if(!a.ok)throw Error("API response not ok");let s=await a.json(),n={id:Date.now()+1,role:"assistant",content:s.response,timestamp:new Date};t(e=>[...e,n])}catch(a){console.error("Error sending message:",a);let e={id:Date.now()+1,role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};t(t=>[...t,e])}finally{i(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Public Chat Test"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"No authentication required - testing chat functionality"}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg h-96 mb-4 p-4 overflow-y-auto",children:[0===e.length?(0,s.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Public Chat Test"}),(0,s.jsx)("p",{className:"mt-2",children:"Send a message to test the AI and database integration!"})]}):e.map(e=>(0,s.jsx)("div",{className:"flex mb-4 ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-[80%] rounded-lg px-4 py-2 ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"),children:[(0,s.jsx)("div",{className:"whitespace-pre-wrap",children:e.content}),(0,s.jsx)("div",{className:"text-xs mt-1 ".concat("user"===e.role?"text-blue-200":"text-gray-500"),children:e.timestamp.toLocaleTimeString()})]})},e.id)),l&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-gray-100 text-gray-800 rounded-lg px-4 py-2 max-w-[80%]",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("input",{type:"text",value:a,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&o(),placeholder:"Type a test message...",disabled:l,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("button",{onClick:o,disabled:l||!a.trim(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400",children:"Send"})]})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=89271)}),_N_E=e.O()}]);